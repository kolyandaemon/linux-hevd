import fcntl
import os
import ctypes
import sys
from ioctl_opt import IOWR

class hevd_io(ctypes.Structure):
	_fields_ = [
		('input_buffer',ctypes.c_void_p),
		('input_buffer_length',ctypes.c_size_t),
		('output_buffer',ctypes.c_void_p),
                ('output_buffer_length',ctypes.c_size_t)
	]


def cmd(num):
    return IOWR(ord('h'), num ,hevd_io)

def arg_str(input_str):
    input_buffer=ctypes.c_char_p(input_str.encode('utf-8'))

    input_buffer_length=ctypes.c_size_t(len(input_str))


    return  hevd_io(ctypes.cast(input_buffer,ctypes.c_void_p),input_buffer_length,None,0)


def fd():
    return os.open("/dev/hevd",os.O_RDWR)

